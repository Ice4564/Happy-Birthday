<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Best Birthday Ever üéâ</title>
<link href="https://fonts.googleapis.com/css2?family=Kanit&family=Itim&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Kanit',sans-serif;}
body{overflow:hidden;background:linear-gradient(to bottom,#ffe6f0,#ffc1e3);}
video{position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-1;filter:brightness(0.8);}
.screen{display:none;flex-direction:column;justify-content:center;align-items:center;height:100vh;text-align:center;padding:2rem;}
.active{display:flex;}
.start-button{font-size:1.8rem;padding:1rem 2rem;background:linear-gradient(45deg,#ff69b4,#ff4081);color:white;border:none;border-radius:30px;cursor:pointer;margin-top:1rem;transition: transform 0.3s ease, box-shadow 0.3s ease;z-index:20;}
.start-button:hover{transform:scale(1.1);box-shadow:0 0 25px #ff69b4;}
.countdown-number{font-size:8rem;color:#ff4081;text-shadow:0 0 25px white,0 0 50px #ff69b4;animation:zoom 1s ease infinite alternate;}
@keyframes zoom{from{transform:scale(1);}to{transform:scale(1.15);}}

/* Message Screen */
.message h1{font-size:3rem;color:#ff4081;margin-bottom:1rem;text-shadow:0 0 15px white,0 0 30px #ff4081;text-align:center;animation:glow 2s ease-in-out infinite alternate;}
@keyframes glow{from{text-shadow:0 0 15px white,0 0 30px #ff4081;}to{text-shadow:0 0 30px #fff,0 0 60px #ff4081;}}
#typewriter{font-size:1.3rem;color:#c2185b;background:rgba(255,255,255,0.25);padding:1.5rem;border-radius:20px;box-shadow:0 0 30px rgba(255,64,129,0.5);line-height:1.7;white-space:pre-line;margin-bottom:2rem;opacity:0;transition:opacity 0.5s;text-align:center;}
#typewriter.show{opacity:1;}
.like-box{display:flex;justify-content:center;align-items:center;gap:10px;margin-top:1rem;opacity:0;transition:opacity 0.5s;}
.like-box.show{opacity:1;}
.like-button{font-size:1.8rem;background:none;border:none;cursor:pointer;color:#ff69b4;transition:transform 0.3s;}
.like-button:hover{transform:scale(1.3);}

/* Floating Items */
.heart,.cake,.sparkle,.snowflake,.confetti{position:fixed;z-index:2;pointer-events:none;}
.heart{width:20px;height:20px;background:pink;transform:rotate(45deg);opacity:0.8;box-shadow:0 0 15px #ff69b4;}
.heart::before,.heart::after{content:"";position:absolute;width:20px;height:20px;background:pink;border-radius:50%;}
.heart::before{top:-15px;left:0;} .heart::after{top:0;left:-15px;}
.cake{font-size:2rem;bottom:0;filter:drop-shadow(0 0 15px #ff4081);}
.confetti{width:8px;height:12px;background:linear-gradient(45deg,#ff4081,#ffeb3b,#4caf50,#03a9f4);opacity:0.9;}
@keyframes rise{0%{transform:translateY(0) rotate(0deg);opacity:1;}100%{transform:translateY(-100vh) rotate(360deg);opacity:0;}}
@keyframes fall{0%{transform:translateY(0) rotate(0deg);opacity:1;}100%{transform:translateY(100vh) rotate(360deg);opacity:0;}}
@keyframes fadeOut{from{opacity:1;}to{opacity:0;}}
.fade-out{animation:fadeOut 1s forwards;}

/* Input Box */
.input-box{
  background:rgba(255,255,255,0.25);
  padding:2rem;
  border-radius:25px;
  box-shadow:0 0 30px rgba(255,64,129,0.5);
  display:flex;
  flex-direction:column;
  gap:1rem;
  min-width:280px;
  max-width:400px;
  z-index:20;
}
.input-box input,
.input-box textarea{
  padding:0.7rem 1rem;
  border:none;
  border-radius:20px;
  font-size:1rem;
  outline:none;
}
textarea{resize:none;min-height:120px;}
.status-text{font-size:1rem;color:#c2185b;margin-top:0.5rem;}

/* Music Button */
.music-toggle{
  position:fixed;
  top:15px; right:15px;
  font-size:1.5rem;
  background:rgba(255,255,255,0.6);
  border:none;
  border-radius:50%;
  padding:0.5rem 0.7rem;
  cursor:pointer;
  box-shadow:0 0 15px rgba(255,64,129,0.5);
  z-index:10000;
}
.music-toggle:hover{transform:scale(1.1);}
</style>
</head>
<body>

<video muted autoplay loop>
<source src="https://cdn.pixabay.com/video/2023/07/04/174867-843732416_large.mp4" type="video/mp4">
</video>

<audio id="bg-music" loop>
<source src="Desktop-2025.mp3" type="audio/mpeg">
</audio>

<button class="music-toggle" id="musicBtn" onclick="toggleMusic()">üîä</button>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠ -->
<div class="screen active" id="screen0">
  <h1>üéÅ ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì üéÇ</h1>
  <div class="input-box">
    <input type="text" id="userName" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...">
    <button class="start-button" onclick="goToStart()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢ üéâ</button>
    <div class="status-text" id="statusText"></div>
  </div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏° -->
<div class="screen" id="screen1">
  <h1 id="welcomeText">üéÄ ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° üéâ</h1>
  <button class="start-button" onclick="startCountdown()">üéÇ</button>
</div>

<!-- Countdown -->
<div class="screen" id="screen2">
  <div class="countdown-number" id="countNum">3</div>
</div>

<!-- ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î -->
<div class="screen message" id="screen3">
  <h1 id="birthdayTitle">‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î üéÇ</h1>
  <p id="typewriter"></p>
  <div class="like-box" id="likeBox">
    <button class="like-button" onclick="like()">‚ù§Ô∏è</button>
  </div>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ö -->
<div class="screen" id="screen4">
  <h1>üíå ‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏≥‡πÑ‡∏´‡∏°?</h1>
  <div class="input-box">
    <textarea id="replyMessage" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
    <button class="start-button" onclick="sendReply()">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° üíñ</button>
    <div class="status-text" id="replyStatus"></div>
  </div>
</div>

<script>
const screen0=document.getElementById("screen0");
const screen1=document.getElementById("screen1");
const screen2=document.getElementById("screen2");
const screen3=document.getElementById("screen3");
const screen4=document.getElementById("screen4");
const countNum=document.getElementById("countNum");
const music=document.getElementById("bg-music");
const musicBtn=document.getElementById("musicBtn");
const likeBox=document.getElementById("likeBox");
const statusText=document.getElementById("statusText");
const welcomeText=document.getElementById("welcomeText");
const birthdayTitle=document.getElementById("birthdayTitle");
const replyStatus=document.getElementById("replyStatus");

let userName="";
let birthdayIntervals=[];
let musicPlaying=false;

// üî¥ Webhook ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
const webhookURL = "https://discordapp.com/api/webhooks/1466902972721266751/6BaOFv4W6JPQukuYbmDdSMmpXc2NDmY-weT9Z5993AicJKDPJBKm4d1WwUbSY7Gr4JbB";

const baseMessageText = `‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ
‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ß‡∏±‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏™‡∏¥‡πà‡∏á‡∏î‡∏µ‡πÜ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÉ‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°
‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á
‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‚Ä¶‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Å‡πâ‡∏≤‡∏ß‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏¢‡∏¥‡πâ‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ô‡∏∂‡∏Å‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤`;

function toggleMusic(){
  if(musicPlaying){
    music.pause();
    musicBtn.textContent="üîá";
  } else {
    music.volume=0.4;
    music.play().catch(()=>{});
    musicBtn.textContent="üîä";
  }
  musicPlaying=!musicPlaying;
}

function goToStart(){
  const nameInput=document.getElementById("userName").value.trim();
  if(!nameInput){
    statusText.textContent="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞ üòä";
    return;
  }
  userName=nameInput;
  screen0.classList.remove("active");
  screen1.classList.add("active");
  welcomeText.textContent=`üéÄ ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ ${userName} üéâ ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏¢`;
  birthdayTitle.textContent=`‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ${userName} üéÇ`;
}

function startCountdown(){
  screen1.classList.remove("active");
  screen2.classList.add("active");
  toggleMusic();
  let count=3; countNum.textContent=count;
  const interval=setInterval(()=>{
    count--;
    if(count>=1){countNum.textContent=count;}
    else{
      clearInterval(interval);
      screen2.classList.remove("active");
      screen3.classList.add("active");
      const finalMessage=`${userName} üíñ\n\n${baseMessageText}`;
      typeWriter(finalMessage,document.getElementById("typewriter"),50,()=>{ likeBox.classList.add("show"); });
      launchHearts(); launchCakes(); launchSparkles(); launchSnowflakes();
    }
  },1000);
}

function typeWriter(text,el,delay=50,callback){
  el.innerHTML=""; el.classList.add("show");
  let i=0;
  function type(){
    if(i<text.length){
      el.innerHTML+=text.charAt(i);
      i++;
      setTimeout(type,delay);
    } else if(callback){callback();}
  }
  type();
}

function launchHearts(){birthdayIntervals.push(setInterval(()=>{const h=document.createElement("div");h.classList.add("heart");h.style.left=Math.random()*100+"vw";h.style.animation=`rise ${3+Math.random()*2}s linear forwards`;document.body.appendChild(h);setTimeout(()=>h.remove(),6000);},400));}
function launchCakes(){birthdayIntervals.push(setInterval(()=>{const c=document.createElement("div");c.classList.add("cake");c.textContent="üéÇ";c.style.left=Math.random()*100+"vw";c.style.animation=`rise ${4+Math.random()*2}s linear forwards`;document.body.appendChild(c);setTimeout(()=>c.remove(),6000);},1500));}
function launchSparkles(){birthdayIntervals.push(setInterval(()=>{const s=document.createElement("div");s.classList.add("sparkle");s.style.left=Math.random()*100+"vw";s.style.top=Math.random()*100+"vh";s.style.width="5px";s.style.height="5px";s.style.background="rgba(255,255,255,0.8)";s.style.borderRadius="50%";document.body.appendChild(s);setTimeout(()=>s.remove(),4000);},300));}
function launchSnowflakes(){birthdayIntervals.push(setInterval(()=>{const sn=document.createElement("div");sn.classList.add("snowflake");sn.style.left=Math.random()*100+"vw";sn.style.top="-10px";sn.style.width="6px";sn.style.height="6px";sn.style.background="white";sn.style.borderRadius="50%";sn.style.opacity=0.6;sn.style.animation=`fall ${5+Math.random()*5}s linear forwards`;document.body.appendChild(sn);setTimeout(()=>sn.remove(),7000);},500));}

function launchConfetti(){
  for(let i=0;i<100;i++){
    const cf=document.createElement("div");
    cf.classList.add("confetti");
    cf.style.left=Math.random()*100+"vw";
    cf.style.top="-10px";
    cf.style.transform=`rotate(${Math.random()*360}deg)`;
    cf.style.animation=`fall ${4+Math.random()*3}s linear forwards`;
    document.body.appendChild(cf);
    setTimeout(()=>cf.remove(),8000);
  }
}

function like(){
  likeBox.style.display="none";
  birthdayIntervals.forEach(i=>clearInterval(i));
  birthdayIntervals=[];
  launchConfetti();
  setTimeout(()=>{
    screen3.classList.remove("active");
    screen4.classList.add("active");
  },1000);
}

function sendReply(){
  const msg=document.getElementById("replyMessage").value.trim();
  if(!msg){
    replyStatus.textContent="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞ üíå";
    return;
  }

  replyStatus.textContent="‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°... ‚è≥";

  const now = new Date();
  const timeString = now.toLocaleString("th-TH", {
    year: "numeric",
    month: "long",
    day: "numeric",
    hour: "2-digit",
    minute: "2-digit"
  });

  const payload = {
    username: "üéÇ Birthday Reply",
    avatar_url: "https://cdn-icons-png.flaticon.com/512/3595/3595455.png",
    embeds: [
      {
        title: "üíå ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î!",
        color: 16738740,
        fields: [
          { name: "üë§ ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á", value: userName, inline: true },
          { name: "üïí ‡πÄ‡∏ß‡∏•‡∏≤", value: timeString, inline: true },
          { name: "üíñ ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°", value: msg, inline: false }
        ],
        footer: { text: "Best Birthday Ever üéâ" },
        timestamp: new Date().toISOString()
      }
    ]
  };

  fetch(webhookURL,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(payload)
  })
  .then(()=>{
    replyStatus.textContent="‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏Å‡∏ô‡∏∞ üíï";
    document.getElementById("replyMessage").value="";
  })
  .catch(()=>{
    replyStatus.textContent="‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° üò¢";
  });
}
</script>
</body>
</html>
